<!DOCTYPE html>
<html>
<head>
    <title>Consulta de Clima</title>
</head>
<body>
    <h1>Consultar Clima</h1>
    <input type="text" id="cidadeInput" placeholder="Digite o nome da cidade">
    <button onclick="consultarClima()">Consultar</button>
    <div id="resultado"></div>

    <script>
        function consultarClima() {
            const cidade = document.getElementById("cidadeInput").value;

            // Fazer uma solicitação AJAX para a sua rota FastAPI
            fetch(`/clima/${cidade}`)
                .then(response => response.json())
                .then(data => {
                    const resultado = document.getElementById("resultado");
                    if (data.descricao && data.temperatura) {
                        resultado.innerHTML = `Descrição: ${data.descricao}, Temperatura: ${data.temperatura}°C`;
                    } else {
                        resultado.innerHTML = "Cidade não encontrada ou erro na solicitação.";
                    }
                })
                .catch(error => {
                    console.error("Erro ao consultar o clima:", error);
                    const resultado = document.getElementById("resultado");
                    resultado.innerHTML = "Não foi possível obter o clima.";
                });
        }
    </script>
</body>
</html>
